(function(e,t){if(typeof define==="function"&&define.amd){define([],t)}else if(typeof exports==="object"){module.exports=t()}else{e.download=t()}})(this,function(){return function e(t,n,o){var i=window,r="application/octet-stream",a=o||r,d=t,l=!n&&!o&&d,s=document.createElement("a"),u=function(e){return String(e)},c=i.Blob||i.MozBlob||i.WebKitBlob||u,f=n||"download",p,m;c=c.call?c.bind(i):Blob;if(String(this)==="true"){d=[d,a];a=d[0];d=d[1]}if(l&&l.length<2048){f=l.split("/").pop().split("?")[0];s.href=l;if(s.href.indexOf(l)!==-1){var b=new XMLHttpRequest;b.open("GET",l,true);b.responseType="blob";b.onload=function(t){e(t.target.response,f,r)};setTimeout(function(){b.send()},0);return b}}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(d)){if(d.length>1024*1024*1.999&&c!==u){d=w(d);a=d.type||r}else{return navigator.msSaveBlob?navigator.msSaveBlob(w(d),f):h(d)}}p=d instanceof c?d:new c([d],{type:a});function w(e){var t=e.split(/[:;,]/),n=t[1],o=t[2]=="base64"?atob:decodeURIComponent,i=o(t.pop()),r=i.length,a=0,d=new Uint8Array(r);for(a;a<r;++a)d[a]=i.charCodeAt(a);return new c([d],{type:n})}function h(e,t){if("download"in s){s.href=e;s.setAttribute("download",f);s.className="download-js-link";s.innerHTML="downloading...";s.style.display="none";document.body.appendChild(s);setTimeout(function(){s.click();document.body.removeChild(s);if(t===true){setTimeout(function(){i.URL.revokeObjectURL(s.href)},250)}},66);return true}if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)){e=e.replace(/^data:([\w\/\-\+]+)/,r);if(!window.open(e)){if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")){location.href=e}}return true}var n=document.createElement("iframe");document.body.appendChild(n);if(!t){e="data:"+e.replace(/^data:([\w\/\-\+]+)/,r)}n.src=e;setTimeout(function(){document.body.removeChild(n)},333)}if(navigator.msSaveBlob){return navigator.msSaveBlob(p,f)}if(i.URL){h(i.URL.createObjectURL(p),true)}else{if(typeof p==="string"||p.constructor===u){try{return h("data:"+a+";base64,"+i.btoa(p))}catch(e){return h("data:"+a+","+encodeURIComponent(p))}}m=new FileReader;m.onload=function(e){h(this.result)};m.readAsDataURL(p)}return true}});
//# sourceMappingURL=down.js.map